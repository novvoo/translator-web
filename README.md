# Document Translator Web

åŸºäº Go + React çš„æ–‡æ¡£ç¿»è¯‘å·¥å…·ï¼Œä½¿ç”¨ AI ç”ŸæˆåŒè¯­å¯¹ç…§ç‰ˆæœ¬ã€‚æ”¯æŒ EPUB ç”µå­ä¹¦å’Œ PDF æ–‡æ¡£ã€‚

## ğŸ‰ æ ¸å¿ƒåŠŸèƒ½

### æ–‡æ¡£æ ¼å¼æ”¯æŒ
- âœ… **EPUB ç”µå­ä¹¦** - å®Œæ•´æ”¯æŒ EPUB æ ¼å¼ï¼Œè¾“å‡ºåŒè¯­å¯¹ç…§çš„ EPUB æ–‡ä»¶
- âœ… **PDF æ–‡æ¡£** - **Go åŸç”Ÿå®ç°**ï¼Œæ™ºèƒ½æå– PDF æ–‡æœ¬å†…å®¹ï¼Œæ”¯æŒæ•°å­¦å…¬å¼è¯†åˆ«ï¼Œè¾“å‡º

### PDF ç¿»è¯‘ç‰¹æ€§ (æ–°åŠŸèƒ½)
- âœ… **Go åŸç”Ÿå®ç°** - æ— éœ€å¤–éƒ¨ Python ä¾èµ–ï¼Œç›´æ¥åœ¨ Go ä¸­å¤„ç† PDF
- âœ… **æ•°å­¦å…¬å¼è¯†åˆ«** - æ™ºèƒ½æ£€æµ‹å’Œå¤„ç†æ•°å­¦å…¬å¼ï¼Œä¿æŒå…¬å¼å®Œæ•´æ€§
- âœ… **å¤šæ ¼å¼è¾“å‡º** - æ”¯æŒåŒè¯­ PDFã€å•è¯­ PDF å’ŒåŒè¯­ HTML æ ¼å¼
- âœ… **æ™ºèƒ½æ–‡æœ¬å¤„ç†** - è‡ªåŠ¨åˆå¹¶æ–‡æœ¬å—ï¼Œä¼˜åŒ–ç¿»è¯‘è´¨é‡
- âœ… **å­—ä½“æ”¯æŒ** - æ ¹æ®ç›®æ ‡è¯­è¨€è‡ªåŠ¨é€‰æ‹©åˆé€‚å­—ä½“

### ä¼šè¯ç®¡ç†
- âœ… **è‡ªåŠ¨ä¼šè¯ç®¡ç†** - æ— éœ€æ³¨å†Œç™»å½•ï¼Œè‡ªåŠ¨ä¸ºæ¯ä¸ªè®¿é—®è€…åˆ›å»ºç‹¬ç«‹ä¼šè¯
- âœ… **å®Œå…¨æ•°æ®éš”ç¦»** - æ¯ä¸ªç”¨æˆ·ç‹¬ç«‹çš„ä»»åŠ¡åˆ—è¡¨ã€æ–‡ä»¶å­˜å‚¨å’Œç¿»è¯‘ç¼“å­˜
- âœ… **å®‰å…¨æƒé™æ§åˆ¶** - æ— æ³•è®¿é—®å…¶ä»–ç”¨æˆ·çš„ä»»åŠ¡å’Œæ–‡ä»¶
- âœ… **é€‚åˆå…¬å…±éƒ¨ç½²** - å¯ä»¥å®‰å…¨åœ°éƒ¨ç½²ä¸ºå…¬å…±æœåŠ¡

### AI ç¿»è¯‘å¼•æ“
- âœ… **ç»Ÿä¸€ç¿»è¯‘æ¥å£** - EPUB å’Œ PDF ä½¿ç”¨ç›¸åŒçš„ç¿»è¯‘æµç¨‹
- âœ… **æ™ºèƒ½ç¼“å­˜ç³»ç»Ÿ** - è‡ªåŠ¨ç¼“å­˜ç¿»è¯‘ç»“æœï¼Œé¿å…é‡å¤ç¿»è¯‘
- âœ… **å¼ºåˆ¶é‡è¯‘é€‰é¡¹** - æ”¯æŒå¿½ç•¥ç¼“å­˜å¼ºåˆ¶é‡æ–°ç¿»è¯‘

## åŠŸèƒ½ç‰¹æ€§

- ğŸ“š **EPUB ç¿»è¯‘** - ä¸Šä¼  EPUB æ–‡ä»¶ï¼Œè¾“å‡ºåŒè¯­å¯¹ç…§çš„ EPUB ç”µå­ä¹¦
- ğŸ“„ **PDF ç¿»è¯‘** - ä¸Šä¼  PDF æ–‡ä»¶ï¼Œè¾“å‡ºåŒè¯­å¯¹ç…§çš„ PDF æ–‡ä»¶
- ğŸ”’ **å¤šç”¨æˆ·ä¼šè¯éš”ç¦»** - æ¯ä¸ªç”¨æˆ·çš„æ•°æ®å®Œå…¨ç‹¬ç«‹ï¼Œæ”¯æŒå…¬å…±éƒ¨ç½²
- ğŸ¤– **æ”¯æŒå¤šç§ AI æä¾›å•†**ï¼š
  - OpenAI (GPT-4, GPT-3.5-turbo)
  - Claude (Anthropic)
  - Google Gemini
  - DeepSeek
  - Ollama (æœ¬åœ°æ¨¡å‹)
  - NLTranslator (macOS åŸç”Ÿç¿»è¯‘)
  - LibreTranslate (å¼€æºç¿»è¯‘æœåŠ¡)
  - è‡ªå®šä¹‰ APIï¼ˆä»»ä½• OpenAI å…¼å®¹æ¥å£ï¼‰
- ğŸŒ æ”¯æŒå¤šç§ç›®æ ‡è¯­è¨€
- ğŸ“Š å®æ—¶æ˜¾ç¤ºç¿»è¯‘è¿›åº¦
- ğŸ’¾ æ™ºèƒ½ç¼“å­˜ç¿»è¯‘ç»“æœï¼Œé¿å…é‡å¤ç¿»è¯‘
- ğŸ”„ æ”¯æŒå¼ºåˆ¶é‡æ–°ç¿»è¯‘é€‰é¡¹
- ğŸ“¥ ä¸‹è½½åŒè¯­å¯¹ç…§æ–‡ä»¶
- âš™ï¸ çµæ´»çš„æ¨¡å‹é…ç½®å’Œå‚æ•°è°ƒä¼˜

## æ”¯æŒçš„æ–‡ä»¶æ ¼å¼

| æ ¼å¼ | è¾“å…¥ | è¾“å‡º | è¯´æ˜ |
|------|------|------|------|
| **EPUB** | .epub | .epub | åŒè¯­å¯¹ç…§çš„ç”µå­ä¹¦ï¼Œä¿æŒåŸæœ‰æ ¼å¼å’Œç»“æ„ |
| **PDF** | .pdf | .pdf + .html | **Go åŸç”Ÿå®ç°**ï¼šåŒè¯­å¯¹ç…§çš„ PDF æ–‡ä»¶ + å¤‡é€‰ HTML æ–‡ä»¶ï¼Œæ”¯æŒæ•°å­¦å…¬å¼ |

## æŠ€æœ¯æ ˆ

- **åç«¯**: Go + Ginï¼ˆå†…åµŒå‰ç«¯ï¼‰
- **å‰ç«¯**: React + Material-UI
- **æ¶æ„**: å•ä¸€å¯æ‰§è¡Œæ–‡ä»¶ï¼Œæ— éœ€é¢å¤–ä¾èµ–

## å¿«é€Ÿå¯åŠ¨

### é¦–æ¬¡ä½¿ç”¨

å¦‚æœé‡åˆ° `pattern all:frontend/build: no matching files found` é”™è¯¯ï¼Œè¯´æ˜å‰ç«¯è¿˜æœªæ„å»ºã€‚æœ‰ä¸¤ç§è§£å†³æ–¹æ¡ˆï¼š

**æ–¹æ¡ˆ 1ï¼šä½¿ç”¨å¼€å‘æ¨¡å¼ï¼ˆæ¨èï¼‰**
```bash
go run dev.go
```
å¼€å‘æ¨¡å¼ä¼šè‡ªåŠ¨å¯åŠ¨å‰ç«¯å¼€å‘æœåŠ¡å™¨ï¼Œæ— éœ€é¢„å…ˆæ„å»ºã€‚

**æ–¹æ¡ˆ 2ï¼šå…ˆæ„å»ºå‰ç«¯**
```bash
cd frontend
npm install
npm run build
cd ..
```

### æ–¹å¼ä¸€ï¼šä½¿ç”¨å¯åŠ¨è„šæœ¬ï¼ˆæ¨èï¼‰

**Windows:**
```bash
start.bat
```

**Linux/Mac:**
```bash
chmod +x start.sh
./start.sh
```

### æ–¹å¼äºŒï¼šä½¿ç”¨ Go å‘½ä»¤

**å¼€å‘æ¨¡å¼ï¼ˆæ”¯æŒçƒ­é‡è½½ï¼‰:**
```bash
go run dev.go
```

**ç”Ÿäº§æ¨¡å¼ï¼ˆæ„å»ºå•ä¸€å¯æ‰§è¡Œæ–‡ä»¶ï¼‰:**
```bash
go run build.go
./translator-web      # Linux/Mac
translator-web.exe    # Windows
```

### æ–¹å¼ä¸‰ï¼šä½¿ç”¨ Make

```bash
make dev          # å¼€å‘æ¨¡å¼
make build        # æ„å»ºç”Ÿäº§ç‰ˆæœ¬
make docker-build # Docker æ„å»º
make docker-run   # Docker è¿è¡Œ
```

### æ–¹å¼å››ï¼šä½¿ç”¨ Docker

```bash
docker-compose up -d
```

è®¿é—® http://localhost:8080

æ„å»ºåä¼šç”Ÿæˆå•ä¸€å¯æ‰§è¡Œæ–‡ä»¶ï¼ŒåŒ…å«å‰ç«¯å’Œåç«¯ï¼Œæ— éœ€é¢å¤–ä¾èµ–ã€‚

## ä½¿ç”¨è¯´æ˜

1. **ä¸Šä¼ æ–‡æ¡£æ–‡ä»¶**ï¼šç‚¹å‡»"é€‰æ‹©æ–‡æ¡£æ–‡ä»¶"æŒ‰é’®ï¼Œæ”¯æŒ .epub å’Œ .pdf æ ¼å¼
2. **é…ç½®ç¿»è¯‘å‚æ•°**ï¼š
   - **é€‰æ‹© AI æä¾›å•†**ï¼šOpenAIã€Claudeã€Geminiã€DeepSeekã€Ollamaã€NLTranslatorã€LibreTranslate æˆ–è‡ªå®šä¹‰
   - é€‰æ‹©ç›®æ ‡è¯­è¨€
   - è¾“å…¥ API Keyï¼ˆæœ¬åœ°æ¨¡å‹å’Œéƒ¨åˆ†æœåŠ¡æ— éœ€ï¼‰
   - é€‰æ‹©æ¨¡å‹ï¼ˆç³»ç»Ÿä¼šæ ¹æ®æä¾›å•†è‡ªåŠ¨å¡«å……æ¨èæ¨¡å‹ï¼‰
   - è°ƒæ•´ Temperatureï¼ˆ0-2ï¼Œæ§åˆ¶ç¿»è¯‘çš„åˆ›é€ æ€§ï¼‰
   - ï¼ˆå¯é€‰ï¼‰æ·»åŠ è‡ªå®šä¹‰æç¤ºè¯
   - ï¼ˆå¯é€‰ï¼‰å¯ç”¨å¼ºåˆ¶é‡æ–°ç¿»è¯‘
3. **å¼€å§‹ç¿»è¯‘**ï¼šç‚¹å‡»"å¼€å§‹ç¿»è¯‘"æŒ‰é’®
4. **æŸ¥çœ‹è¿›åº¦**ï¼šåœ¨ä»»åŠ¡åˆ—è¡¨ä¸­å®æ—¶æŸ¥çœ‹ç¿»è¯‘è¿›åº¦
5. **ä¸‹è½½ç»“æœ**ï¼šç¿»è¯‘å®Œæˆåç‚¹å‡»"ä¸‹è½½ç¿»è¯‘æ–‡ä»¶"
   - EPUB æ–‡ä»¶ï¼šä¸‹è½½åŒè¯­å¯¹ç…§çš„ .epub æ–‡ä»¶
   - PDF æ–‡ä»¶ï¼šä¸‹è½½åŒè¯­å¯¹ç…§çš„ .pdf æ–‡ä»¶ï¼ˆä¼˜å…ˆï¼‰æˆ– .html æ–‡ä»¶ï¼ˆå¤‡é€‰ï¼‰

## PDF ç¿»è¯‘æ–°ç‰¹æ€§

### Go åŸç”Ÿå®ç°ä¼˜åŠ¿
- **æ— å¤–éƒ¨ä¾èµ–**ï¼šä¸å†éœ€è¦å®‰è£… Python å’Œ pdf2zh
- **æ›´å¥½é›†æˆ**ï¼šç›´æ¥ä½¿ç”¨ç°æœ‰ç¿»è¯‘å®¢æˆ·ç«¯å’Œç¼“å­˜ç³»ç»Ÿ
- **ç»Ÿä¸€é”™è¯¯å¤„ç†**ï¼šé›†æˆåˆ°ç°æœ‰é”™è¯¯å¤„ç†æœºåˆ¶
- **æ€§èƒ½æå‡**ï¼šå‡å°‘è¿›ç¨‹é—´é€šä¿¡å¼€é”€

### PDF å…¼å®¹æ€§è¯´æ˜

æœ¬ç³»ç»Ÿä½¿ç”¨ Go åŸç”Ÿ PDF è§£æåº“ï¼Œæ”¯æŒå¤§å¤šæ•°æ ‡å‡† PDF æ–‡ä»¶ã€‚ä½†æŸäº›ç‰¹æ®Šæ ¼å¼çš„ PDF å¯èƒ½æ— æ³•æ­£å¸¸å¤„ç†ï¼š

#### æ”¯æŒçš„ PDF ç±»å‹ âœ…
- æ ‡å‡†æ–‡æœ¬ PDFï¼ˆå¯å¤åˆ¶æ–‡æœ¬å†…å®¹ï¼‰
- ä½¿ç”¨å¸¸è§å­—ä½“çš„ PDF
- æœªåŠ å¯†çš„ PDF æ–‡ä»¶
- ç”± Wordã€LaTeX ç­‰å·¥å…·ç”Ÿæˆçš„ PDF

#### ä¸æ”¯æŒçš„ PDF ç±»å‹ âŒ
- **æ‰«æç‰ˆ PDF**ï¼šå›¾ç‰‡æ ¼å¼çš„ PDFï¼Œéœ€è¦å…ˆè¿›è¡Œ OCR è¯†åˆ«
- **åŠ å¯† PDF**ï¼šè®¾ç½®äº†å¯†ç æˆ–æƒé™é™åˆ¶çš„ PDF
- **ç‰¹æ®Šç¼–ç  PDF**ï¼šä½¿ç”¨éæ ‡å‡†ç¼–ç æˆ–å‹ç¼©æ–¹å¼çš„ PDF
- **æŸåçš„ PDF**ï¼šæ–‡ä»¶ç»“æ„ä¸å®Œæ•´æˆ–æŸåçš„ PDF

#### é‡åˆ° "PDFæ–‡ä»¶æ ¼å¼ä¸å…¼å®¹" é”™è¯¯æ—¶çš„è§£å†³æ–¹æ¡ˆ

å¦‚æœä¸Šä¼  PDF æ—¶é‡åˆ°æ ¼å¼ä¸å…¼å®¹çš„é”™è¯¯ï¼Œè¯·å°è¯•ä»¥ä¸‹è§£å†³æ–¹æ¡ˆï¼š

1. **é‡æ–°ä¿å­˜ PDF**
   - ä½¿ç”¨ Adobe Acrobatã€Foxit Reader ç­‰å·¥å…·æ‰“å¼€ PDF
   - é€‰æ‹© "å¦å­˜ä¸º" æˆ– "å¯¼å‡º" åŠŸèƒ½ï¼Œä¿å­˜ä¸ºæ–°çš„ PDF æ–‡ä»¶
   - ç¡®ä¿é€‰æ‹©æ ‡å‡† PDF æ ¼å¼ï¼Œä¸è¦ä½¿ç”¨ç‰¹æ®Šå‹ç¼©

2. **æ£€æŸ¥ PDF æƒé™**
   - ç¡®ä¿ PDF æ²¡æœ‰è®¾ç½®å¯†ç ä¿æŠ¤
   - ç¡®ä¿å¯ä»¥æ­£å¸¸å¤åˆ¶ PDF ä¸­çš„æ–‡æœ¬å†…å®¹
   - å¦‚æœæœ‰æƒé™é™åˆ¶ï¼Œè¯·å…ˆè§£é™¤é™åˆ¶

3. **è½¬æ¢å·¥å…·æ¨è**
   - **åœ¨çº¿å·¥å…·**ï¼šSmallPDFã€ILovePDF ç­‰åœ¨çº¿ PDF è½¬æ¢å·¥å…·
   - **æ¡Œé¢è½¯ä»¶**ï¼šPDFtkã€PDF-XChange Editor ç­‰
   - **æµè§ˆå™¨æ‰“å°**ï¼šåœ¨æµè§ˆå™¨ä¸­æ‰“å¼€ PDFï¼Œä½¿ç”¨ "æ‰“å°åˆ° PDF" åŠŸèƒ½

4. **æ‰«æç‰ˆ PDF å¤„ç†**
   - ä½¿ç”¨ OCR å·¥å…·å…ˆæå–æ–‡æœ¬ï¼šAdobe Acrobatã€ABBYY FineReader
   - åœ¨çº¿ OCR æœåŠ¡ï¼šOnlineOCRã€PDF24 ç­‰
   - æå–æ–‡æœ¬åé‡æ–°åˆ¶ä½œä¸ºæ ‡å‡† PDF

5. **æ›¿ä»£æ–¹æ¡ˆ**
   - å°† PDF è½¬æ¢ä¸º Word æ–‡æ¡£ï¼Œå†è½¬æ¢å› PDF
   - å°† PDF å†…å®¹å¤åˆ¶åˆ°æ–‡æœ¬ç¼–è¾‘å™¨ï¼Œé‡æ–°åˆ¶ä½œ PDF
   - ä½¿ç”¨å…¶ä»– PDF ç¿»è¯‘å·¥å…·ä½œä¸ºå¤‡é€‰æ–¹æ¡ˆ

#### æŠ€æœ¯ç»†èŠ‚

ç³»ç»Ÿä½¿ç”¨çš„ PDF è§£æåº“å¯¹ä»¥ä¸‹æƒ…å†µæ¯”è¾ƒæ•æ„Ÿï¼š
- PDF å†…éƒ¨æµï¼ˆstreamï¼‰ç»“æ„ä¸æ ‡å‡†
- ä½¿ç”¨äº†è¿‡äºå¤æ‚çš„å‹ç¼©ç®—æ³•
- å­—ä½“åµŒå…¥æ–¹å¼ä¸æ ‡å‡†
- å…ƒæ•°æ®ç»“æ„å¼‚å¸¸

å¦‚æœæ‚¨ç»å¸¸é‡åˆ° PDF å…¼å®¹æ€§é—®é¢˜ï¼Œå»ºè®®ï¼š
- ç»Ÿä¸€ä½¿ç”¨ç›¸åŒçš„ PDF ç”Ÿæˆå·¥å…·
- é¿å…ä½¿ç”¨è¿‡äºå¤æ‚çš„ PDF åŠŸèƒ½
- å®šæœŸæ›´æ–° PDF ç”Ÿæˆè½¯ä»¶åˆ°æœ€æ–°ç‰ˆæœ¬

### æ•°å­¦å…¬å¼æ”¯æŒ
- **æ™ºèƒ½æ£€æµ‹**ï¼šåŸºäºå­—ä½“åç§°å’Œå­—ç¬¦å†…å®¹è‡ªåŠ¨è¯†åˆ«æ•°å­¦å…¬å¼
- **ç¬¦å·è¯†åˆ«**ï¼šæ”¯æŒå¸¸è§æ•°å­¦ç¬¦å·ï¼ˆâˆ«âˆ‘âˆâˆšâˆÎ±Î²Î³Î´Îµç­‰ï¼‰
- **è¡¨è¾¾å¼åŒ¹é…**ï¼šè¯†åˆ«ç®—æœ¯è¡¨è¾¾å¼ã€ä»£æ•°è¡¨è¾¾å¼ã€æŒ‡æ•°ã€ä¸‹æ ‡ç­‰
- **ä¿æŒå®Œæ•´æ€§**ï¼šç¿»è¯‘æ—¶ä¿æŒæ•°å­¦å…¬å¼çš„å®Œæ•´æ€§å’Œå‡†ç¡®æ€§

### å¤šæ ¼å¼è¾“å‡º
- **åŒè¯­ PDF**ï¼š`filename-dual.pdf` - åŒ…å«åŸæ–‡å’Œè¯‘æ–‡çš„å¯¹ç…§ç‰ˆæœ¬
- **å•è¯­ PDF**ï¼š`filename-mono.pdf` - ä»…åŒ…å«ç¿»è¯‘åçš„æ–‡æœ¬
- **åŒè¯­ HTML**ï¼š`filename-bilingual.html` - å“åº”å¼ç½‘é¡µæ ¼å¼ï¼Œæ”¯æŒæ‰“å°

### æ™ºèƒ½æ–‡æœ¬å¤„ç†
- **æ–‡æœ¬å—åˆå¹¶**ï¼šè‡ªåŠ¨åˆå¹¶ç›¸é‚»çš„æ–‡æœ¬å—ï¼Œæé«˜ç¿»è¯‘è¿è´¯æ€§
- **å…¬å¼åˆ†ç¦»**ï¼šå°†æ•°å­¦å…¬å¼ä¸æ™®é€šæ–‡æœ¬åˆ†å¼€å¤„ç†
- **ç©ºç™½è¿‡æ»¤**ï¼šè‡ªåŠ¨è¿‡æ»¤ç©ºç™½å’Œæ— æ„ä¹‰çš„æ–‡æœ¬
- **é¡µé¢ç»„ç»‡**ï¼šæŒ‰é¡µé¢ç»„ç»‡å†…å®¹ï¼Œä¿æŒæ–‡æ¡£ç»“æ„

## AI æä¾›å•†é…ç½®

### æ¨èé…ç½®

### æ¨èé…ç½®

#### OpenAI (æ¨è)

```
Provider: openai
API URL: https://api.openai.com/v1/chat/completions
Model: gpt-4 (é«˜è´¨é‡) æˆ– gpt-3.5-turbo (å¿«é€Ÿ)
API Key: sk-...
Temperature: 0.3 (å¹³è¡¡è´¨é‡å’Œä¸€è‡´æ€§)
```

#### Claude (Anthropic)

```
Provider: claude
API URL: https://api.anthropic.com/v1/messages
Model: claude-3-5-sonnet-20241022
API Key: sk-ant-...
Temperature: 0.3
```

#### Google Gemini

```
Provider: gemini
API URL: https://generativelanguage.googleapis.com/v1/models/gemini-pro:generateContent
Model: gemini-pro
API Key: your-google-api-key
Temperature: 0.3
```

#### DeepSeek (æ€§ä»·æ¯”é«˜)

```
Provider: deepseek
API URL: https://api.deepseek.com/v1/chat/completions
Model: deepseek-chat
API Key: your-deepseek-key
Temperature: 0.3
```

#### Ollama (æœ¬åœ°æ¨¡å‹ï¼Œå…è´¹)

```bash
# é¦–å…ˆå®‰è£…å¹¶å¯åŠ¨ Ollama
ollama pull llama3.1:8b
ollama serve
```

```
Provider: ollama
API URL: http://localhost:11434/api/generate
Model: llama3.1:8b
API Key: (ç•™ç©º)
Temperature: 0.3
```

#### NLTranslator (macOS åŸç”Ÿç¿»è¯‘ï¼Œå…è´¹)

```
Provider: nltranslator
API URL: http://localhost:8081/translate
Model: (ç•™ç©º)
API Key: (ç•™ç©º)
Temperature: 0.3
```

> éœ€è¦å…ˆå¯åŠ¨ NLTranslator ä»£ç†æœåŠ¡

#### LibreTranslate (å¼€æºç¿»è¯‘æœåŠ¡)

```
Provider: libretranslate
API URL: https://libretranslate.de/translate
Model: (ç•™ç©º)
API Key: (å¯é€‰ï¼Œå…¬å…±æœåŠ¡å¯ç•™ç©º)
Temperature: 0.3
```

#### Azure OpenAI

```
Provider: custom
API URL: https://your-resource.openai.azure.com/openai/deployments/your-deployment/chat/completions?api-version=2023-05-15
Model: gpt-4
API Key: your-azure-key
Temperature: 0.3
```

## ç¿»è¯‘æœåŠ¡å¯¹æ¯”

| æä¾›å•† | ç±»å‹ | è´¹ç”¨ | è´¨é‡ | é€Ÿåº¦ | ç‰¹ç‚¹ |
|--------|------|------|------|------|------|
| **OpenAI** | äº‘ç«¯AI | ä»˜è´¹ | â­â­â­â­â­ | â­â­â­â­ | ç¿»è¯‘è´¨é‡æœ€é«˜ï¼Œæ”¯æŒå¤šç§æ¨¡å‹ |
| **Claude** | äº‘ç«¯AI | ä»˜è´¹ | â­â­â­â­â­ | â­â­â­â­ | ç†è§£èƒ½åŠ›å¼ºï¼Œé€‚åˆæ–‡å­¦ç¿»è¯‘ |
| **Gemini** | äº‘ç«¯AI | ä»˜è´¹ | â­â­â­â­ | â­â­â­â­ | Google å‡ºå“ï¼Œå¤šè¯­è¨€æ”¯æŒå¥½ |
| **DeepSeek** | äº‘ç«¯AI | ä»˜è´¹ | â­â­â­â­ | â­â­â­â­â­ | æ€§ä»·æ¯”é«˜ï¼Œä¸­æ–‡æ”¯æŒå¥½ |
| **Ollama** | æœ¬åœ°AI | å…è´¹ | â­â­â­ | â­â­â­ | å®Œå…¨æœ¬åœ°ï¼Œéšç§å®‰å…¨ |
| **NLTranslator** | ç³»ç»Ÿç¿»è¯‘ | å…è´¹ | â­â­â­ | â­â­â­â­â­ | macOS åŸç”Ÿï¼Œå¿«é€Ÿç¨³å®š |
| **LibreTranslate** | å¼€æºæœåŠ¡ | å…è´¹ | â­â­ | â­â­â­ | å¼€æºå…è´¹ï¼ŒåŸºç¡€ç¿»è¯‘ |
| **è‡ªå®šä¹‰API** | çµæ´» | å–å†³äºæœåŠ¡ | å–å†³äºæœåŠ¡ | å–å†³äºæœåŠ¡ | æ”¯æŒä»»ä½• OpenAI å…¼å®¹æ¥å£ |

### ä½¿ç”¨å»ºè®®

- **é«˜è´¨é‡ç¿»è¯‘**ï¼šæ¨è OpenAI GPT-4 æˆ– Claude-3.5
- **æ€§ä»·æ¯”ä¼˜å…ˆ**ï¼šæ¨è DeepSeek æˆ– Gemini
- **å®Œå…¨å…è´¹**ï¼šæ¨è Ollamaï¼ˆéœ€è¦æœ¬åœ°éƒ¨ç½²ï¼‰æˆ– LibreTranslate
- **éšç§å®‰å…¨**ï¼šæ¨è Ollama æˆ– NLTranslatorï¼ˆmacOSï¼‰
- **å¿«é€Ÿç¿»è¯‘**ï¼šæ¨è NLTranslator æˆ– DeepSeek

## é¡¹ç›®ç»“æ„

```
translator-web/
â”œâ”€â”€ backend/                     # Go åç«¯
â”‚   â”œâ”€â”€ main.go                 # ä¸»ç¨‹åºå…¥å£ï¼ŒåŒ…å«ä¼šè¯ç®¡ç†
â”‚   â”œâ”€â”€ handlers/               # API å¤„ç†å™¨
â”‚   â”‚   â””â”€â”€ translate.go        # ç¿»è¯‘ç›¸å…³ APIï¼Œæ”¯æŒå¤šç”¨æˆ·éš”ç¦»
â”‚   â”œâ”€â”€ middleware/             # ä¸­é—´ä»¶
â”‚   â”‚   â””â”€â”€ session.go          # ä¼šè¯ç®¡ç†ä¸­é—´ä»¶
â”‚   â”œâ”€â”€ models/                 # æ•°æ®æ¨¡å‹
â”‚   â”‚   â””â”€â”€ task.go             # ä»»åŠ¡æ¨¡å‹
â”‚   â”œâ”€â”€ translator/             # ç¿»è¯‘æ ¸å¿ƒæ¨¡å—
â”‚   â”‚   â”œâ”€â”€ document.go         # ç»Ÿä¸€æ–‡æ¡£æ¥å£
â”‚   â”‚   â”œâ”€â”€ epub.go             # EPUB æ–‡ä»¶å¤„ç†
â”‚   â”‚   â”œâ”€â”€ pdf.go              # PDF æ–‡ä»¶å¤„ç†
â”‚   â”‚   â”œâ”€â”€ translator.go       # ç»Ÿä¸€æ–‡æ¡£ç¿»è¯‘å™¨
â”‚   â”‚   â”œâ”€â”€ provider.go         # AI æä¾›å•†å®ç°
â”‚   â”‚   â”œâ”€â”€ client.go           # ç¿»è¯‘å®¢æˆ·ç«¯
â”‚   â”‚   â”œâ”€â”€ cache.go            # ç¿»è¯‘ç¼“å­˜ç³»ç»Ÿ
â”‚   â”‚   â”œâ”€â”€ toc.go              # ç›®å½•ç¿»è¯‘
â”‚   â”‚   â””â”€â”€ metadata.go         # å…ƒæ•°æ®ç¿»è¯‘
â”‚   â””â”€â”€ data/                   # æ•°æ®ç›®å½•
â”‚       â””â”€â”€ users/              # ç”¨æˆ·æ•°æ®ï¼ˆæŒ‰ä¼šè¯IDéš”ç¦»ï¼‰
â”‚           â””â”€â”€ [session-id]/   # æ¯ä¸ªç”¨æˆ·çš„ç‹¬ç«‹ç›®å½•
â”‚               â”œâ”€â”€ uploads/    # ä¸Šä¼ æ–‡ä»¶
â”‚               â”œâ”€â”€ outputs/    # è¾“å‡ºæ–‡ä»¶
â”‚               â””â”€â”€ cache/      # ç¿»è¯‘ç¼“å­˜
â”œâ”€â”€ frontend/                   # React å‰ç«¯
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ App.js              # React ä¸»ç»„ä»¶
â”‚   â”‚   â””â”€â”€ index.js            # å…¥å£æ–‡ä»¶
â”‚   â”œâ”€â”€ public/
â”‚   â”‚   â””â”€â”€ index.html          # HTML æ¨¡æ¿
â”‚   â””â”€â”€ package.json            # npm ä¾èµ–
â”œâ”€â”€ dev.go                      # å¼€å‘æ¨¡å¼å¯åŠ¨è„šæœ¬
â”œâ”€â”€ build.go                    # ç”Ÿäº§æ„å»ºè„šæœ¬
â”œâ”€â”€ start.bat                   # Windows å¯åŠ¨è„šæœ¬
â”œâ”€â”€ start.sh                    # Linux/Mac å¯åŠ¨è„šæœ¬
â”œâ”€â”€ Makefile                    # Make æ„å»ºè„šæœ¬
â”œâ”€â”€ Dockerfile                  # Docker æ„å»ºæ–‡ä»¶
â”œâ”€â”€ docker-compose.yml          # Docker Compose é…ç½®
â””â”€â”€ README.md                   # é¡¹ç›®æ–‡æ¡£
```

## API æ¥å£

### POST /api/translate
ä¸Šä¼ æ–‡æ¡£æ–‡ä»¶å¹¶å¼€å§‹ç¿»è¯‘

**å‚æ•°**:
- `file`: æ–‡æ¡£æ–‡ä»¶ï¼ˆ.epub æˆ– .pdfï¼‰
- `targetLanguage`: ç›®æ ‡è¯­è¨€
- `llmConfig`: LLM é…ç½®ï¼ˆJSON å­—ç¬¦ä¸²ï¼‰
  - `provider`: æä¾›å•†ç±»å‹ï¼ˆopenai/claude/gemini/deepseek/ollama/nltranslator/libretranslate/customï¼‰
  - `apiKey`: API Keyï¼ˆæœ¬åœ°æ¨¡å‹å’Œéƒ¨åˆ†æœåŠ¡å¯é€‰ï¼‰
  - `apiUrl`: API URL
  - `model`: æ¨¡å‹åç§°
  - `temperature`: æ¸©åº¦å‚æ•°ï¼ˆ0-2ï¼‰
  - `maxTokens`: æœ€å¤§ token æ•°
  - `extra`: é¢å¤–å‚æ•°ï¼ˆå¯é€‰ï¼Œç”¨äºè‡ªå®šä¹‰æä¾›å•†ï¼‰
- `userPrompt`: è‡ªå®šä¹‰æç¤ºè¯ï¼ˆå¯é€‰ï¼‰
- `forceRetranslate`: å¼ºåˆ¶é‡æ–°ç¿»è¯‘ï¼ˆå¯é€‰ï¼Œtrue/falseï¼‰

**è¯·æ±‚ç¤ºä¾‹**:
```bash
curl -X POST http://localhost:8080/api/translate \
  -F "file=@document.pdf" \
  -F "targetLanguage=Chinese" \
  -F "forceRetranslate=false" \
  -F 'llmConfig={
    "provider": "openai",
    "apiKey": "sk-xxx",
    "apiUrl": "https://api.openai.com/v1/chat/completions",
    "model": "gpt-4",
    "temperature": 0.3,
    "maxTokens": 4000
  }'
```

**è¿”å›**:
```json
{
  "taskId": "uuid",
  "message": "ç¿»è¯‘ä»»åŠ¡å·²åˆ›å»º"
}
```

### GET /api/status/:taskId
è·å–ä»»åŠ¡çŠ¶æ€

**è¿”å›**:
```json
{
  "id": "uuid",
  "sourceFile": "document.pdf",
  "targetLanguage": "Chinese",
  "status": "processing",
  "progress": 0.5,
  "createdAt": "2024-01-01T00:00:00Z"
}
```

### GET /api/download/:taskId
ä¸‹è½½ç¿»è¯‘åçš„æ–‡ä»¶
- EPUB æ–‡ä»¶ï¼šè¿”å›åŒè¯­å¯¹ç…§çš„ .epub æ–‡ä»¶
- PDF æ–‡ä»¶ï¼šè¿”å›åŒè¯­å¯¹ç…§çš„ .html æ–‡ä»¶

### GET /api/tasks
è·å–å½“å‰ç”¨æˆ·çš„æ‰€æœ‰ä»»åŠ¡åˆ—è¡¨ï¼ˆä¼šè¯éš”ç¦»ï¼‰

## æ³¨æ„äº‹é¡¹

- æ–‡ä»¶å¤§å°é™åˆ¶ï¼š100MB
- ç¿»è¯‘æ—¶é—´å–å†³äºæ–‡ä»¶å¤§å°å’Œ API å“åº”é€Ÿåº¦
- å»ºè®®ä½¿ç”¨ GPT-4 æˆ– Claude-3.5 ä»¥è·å¾—æ›´å¥½çš„ç¿»è¯‘è´¨é‡
- API Key ä»…åœ¨å†…å­˜ä¸­ä½¿ç”¨ï¼Œä¸ä¼šè¢«å­˜å‚¨
- æ¯ä¸ªç”¨æˆ·çš„æ•°æ®å®Œå…¨éš”ç¦»ï¼Œæ”¯æŒå¤šç”¨æˆ·åŒæ—¶ä½¿ç”¨
- PDF ç¿»è¯‘ç»“æœåŒ…å«åŒè¯­ PDF æ ¼å¼ï¼Œä¾¿äºæŸ¥çœ‹å’Œæ‰“å°
- æ”¯æŒæ•°å­¦å…¬å¼çš„æ™ºèƒ½è¯†åˆ«å’Œå¤„ç†
- Go åŸç”Ÿå®ç°ï¼Œæ— éœ€å¤–éƒ¨ Python ä¾èµ–

## éƒ¨ç½²

### Fly.io éƒ¨ç½²

```bash
# å®‰è£… flyctl
curl -L https://fly.io/install.sh | sh

# ç™»å½•
flyctl auth login

# åˆ›å»ºåº”ç”¨
flyctl launch

# éƒ¨ç½²
flyctl deploy
```

### Docker éƒ¨ç½²

```bash
# æ„å»ºé•œåƒ
docker build -t translator-web .

# è¿è¡Œå®¹å™¨
docker run -d -p 8080:8080 \
  -v $(pwd)/uploads:/root/uploads \
  -v $(pwd)/outputs:/root/outputs \
  translator-web
```

### ä¼ ç»ŸæœåŠ¡å™¨éƒ¨ç½²

```bash
# æ„å»º
go run build.go

# å¤åˆ¶å¯æ‰§è¡Œæ–‡ä»¶åˆ°æœåŠ¡å™¨
scp translator-web user@server:/path/to/app/

# åœ¨æœåŠ¡å™¨ä¸Šè¿è¡Œ
./translator-web
```

## è®¸å¯è¯

MIT License
